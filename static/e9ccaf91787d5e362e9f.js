"use strict";(self.webpackChunkcloud_onchain_trade_sdk=self.webpackChunkcloud_onchain_trade_sdk||[]).push([[8534],{96141:(e,t,n)=>{n.d(t,{t:()=>a});var o=n(52983),r=n(70942);const a=o.forwardRef((({active:e,hidden:t=!1,...n},a)=>t?null:o.createElement(r.Z,{...n,sx:{alignItems:"center",justifyContent:"center",color:e?"t.yellow":"t.third",cursor:"pointer",fontSize:0,lineHeight:"16px",p:"minor",borderRadius:"2px","&:hover":{color:"t.yellow"},...n.sx},ref:a})))},88534:(e,t,n)=>{n.r(t),n.d(t,{IntervalFilterMedium:()=>Z,default:()=>T});var o=n(52983),r=n(1514),a=n(97214),l=n.n(a),i=n(70942),s=n(14495),c=n(96141);const d=({text:e,value:t,active:n,onClick:r,onObscured:a,onRevealed:l})=>{const i=(0,o.useRef)(null),d=(0,s.Z)(i,{root:null,rootMargin:"0px",threshold:1});return(0,o.useEffect)((()=>{d&&(d.intersectionRatio<1?a(t):l(t))}),[d]),o.createElement(c.t,{id:t,active:n,onClick:r,ref:i,sx:{mr:2}},e)};var p=n(66425),u=n(9644),v=n(89600);const x=({dropdownExpanded:e,onDropdownMouseEnter:t,onDropdownMouseLeave:n,onDropdownButtonClick:r,isDropdownButtonActive:a,dropdownText:l,overlay:s})=>o.createElement(u.Z,{open:e,onMouseEnter:t,onMouseLeave:n,overlay:s,sx:{position:"relative",height:"24px",flex:"1 0 auto",mr:2,"&:hover":{".interval-expand-btn":{color:"t.primary",transform:"rotate(180deg)"}}},enablePortal:!0},o.createElement(c.t,{onClick:r,sx:{width:"100%",height:"100%"},active:a},o.createElement(i.Z,{sx:{alignItems:"center",justifyContent:"center"}},l&&o.createElement(v.Z,null,l),o.createElement(p.Z,{className:"interval-expand-btn",size:3,sx:{color:"t.third",transition:"transform .2s, color .2s","&:not(:first-of-type)":{marginLeft:"4px"}}}))));var m=n(56901),f=n(7384),h=n(90925);const g=({onChange:e,value:t,checked:n,checkboxSize:r=13})=>o.createElement(f.Z,{sx:{position:"absolute",top:`-${r/2}px`,right:`-${r/2}px`}},o.createElement("input",{type:"checkbox",value:t,onChange:e,hidden:!0}),o.createElement(i.Z,{sx:{alignItems:"center",justifyContent:"center",width:"16px",height:"16px",borderRadius:"100%",background:e=>n?e.colors.primary:e.colors.t.placeholder}},o.createElement(h.Z,{color:"modalBg",size:r})));var w=n(27891);const k=({showCheckbox:e,checked:t,value:n,onChange:r,onClick:a,children:l,className:i="interval-option"})=>o.createElement(m.Z,{className:i,onClick:a,alignItems:"center",justifyContent:"center",sx:{fontWeight:"normal",fontSize:"14px",lineHeight:1.43,color:"t.primary",width:"60px",height:"24px",position:"relative",transition:"background-color 0.2s ease 0s",cursor:"pointer",bg:e=>t?(0,w.D)(e.colors.primary,.15):(0,w.D)(e.colors.line,.5),"&:hover":{bg:e=>t?(0,w.D)(e.colors.primary,.3):e.colors.line},borderRadius:"2px"}},o.createElement(v.Z,{sx:{color:t?"t.yellow":"t.primary",fontSize:"12px"}},l),e&&o.createElement(g,{onChange:r,value:n,checked:t}));var E=n(59713);const y=({children:e,onClick:t})=>o.createElement(E.Z,{sz:"s",sx:{lineHeight:"16px",fontSize:12,wordBreak:"keep-all",minHeight:"24px",border:"none",color:"primary",fontWeight:"normal",padding:"0",backgroundImage:"none",bg:"transparent","&:hover:not(:disabled):not(:active):not(.inactive)":{backgroundImage:"none"},"&:active:not(:disabled):not(.inactive)":{backgroundColor:"transparent"}},onClick:t},e);function C({options:e,onClickEdit:t,editText:n,title:r}){return o.createElement(i.Z,{sx:{bg:"modalBg",marginTop:"8px",flexDirection:"column",boxShadow:"0px 0px 1px rgba(20, 21, 26, 0.1), 0px 7px 14px rgba(71, 77, 87, 0.08), 0px 3px 6px rgba(20, 21, 26, 0.08)",borderRadius:"4px",padding:"12px 16px 2px",width:"300px"}},o.createElement(i.Z,{sx:{flexDirection:"row",alignItems:"center",justifyContent:"space-between",marginBottom:"12px"}},o.createElement(v.Z,{sx:{color:"t.third",fontSize:"12px"}},r),o.createElement(y,{onClick:t},n)),o.createElement(i.Z,{sx:{flexDirection:"row",flexWrap:"wrap",justifyContent:"space-between","&>.interval-option":{marginBottom:"10px"}}},e.map((({text:e,value:t,showCheckbox:n,checked:r,onClick:a,onChange:l})=>o.createElement(k,{key:t,value:t,checked:r,showCheckbox:n,onClick:a,onChange:l},e)))))}const b=({dropdownExpanded:e,onDropdownMouseEnter:t,onDropdownMouseLeave:n,onDropdownButtonClick:r,isDropdownButtonActive:a,dropdownText:l,options:s,onClickEdit:c,editText:p,title:u,displayedOptions:v})=>o.createElement(i.Z,{height:24},o.createElement(i.Z,{sx:{flexWrap:"wrap",overflow:"hidden",justifyContent:"space-between"}},v.map((({text:e,value:t,active:n,onClick:r,onObscured:a,onRevealed:l})=>o.createElement(d,{key:t,text:e,value:t,active:n,onClick:r,onObscured:a,onRevealed:l})))),o.createElement(x,{dropdownExpanded:e,onDropdownMouseEnter:t,onDropdownMouseLeave:n,onDropdownButtonClick:r,isDropdownButtonActive:a,dropdownText:l,overlay:o.createElement(C,{options:s,onClickEdit:c,editText:p,title:u})})),D=()=>null,I=e=>{const t=(({options:e,value:t,isEditing:n,onClickEdit:r,title:a,saveText:l,editText:i,dropdownExpanded:s,onDropdownMouseEnter:c,onDropdownMouseLeave:d,onDropdownButtonClick:p,onClickItem:u,...v})=>{const[x,m]=(0,o.useState)(e),[f,h]=(0,o.useState)({});(0,o.useEffect)((()=>m(e)),[e]);const g=x.map((e=>({text:e.text,value:e.text,checked:e.selected,showCheckbox:n,onClick:n?D:()=>u(e.value),onChange:()=>m((t=>t.map((t=>({...t,selected:t.value===e.value?!t.selected:t.selected})))))}))),w=e.filter((e=>e.selected)).map((e=>({text:e.text,value:e.value,active:e.value===t,onClick:()=>u(e.value),onObscured:e=>{h((t=>{const n={...t};return n[e]=!0,n}))},onRevealed:e=>{h((t=>{const n={...t};return n[e]=!1,n}))}}))),k=e.find((e=>e.value===t&&(!e.selected||f[e.value])));return{options:g,displayedOptions:w,editText:n?l:i,dropdownText:k?.text||"",dropdownExpanded:s,onDropdownMouseEnter:c,onDropdownMouseLeave:t=>{m(e),d(t)},onDropdownButtonClick:()=>p(k?.value||""),title:a,isDropdownButtonActive:!!k,onClickEdit:()=>r(x),...v}})(e);return o.createElement(b,{...t})};var O=n(57149),M=n(267),S=n(51007);const Z=({namespace:e,intervalOptions:t})=>{const{getI18n:n}=(0,r.Z)("trd-chart","trade-ui"),a=(0,O.createStore)(e),i=(0,M.createStore)(e),{options:s,setOptions:c,option:d,dropdownExpanded:p,setDropdownOpen:u,handleClickItem:v}=(0,S.J)({namespace:e,intervalOptions:t}),[,x]=a(O.getSelectedIntervals),[m,f]=i(M.getEditingInterval),h=(0,o.useCallback)((e=>{if(m){c(e),u(!1);const n=l()(t,e.filter((e=>e.selected)).map((({value:e})=>e)));x(n)}f(!m)}),[m,f,c,u,t,x]),g=(0,o.useCallback)((()=>{m||(u(!1),f(!1))}),[m,u,f]),w=(0,o.useMemo)((()=>n("selectIntervals",{defaultValue:"Select Intervals"})||""),[n]),k=(0,o.useMemo)((()=>n("save",{defaultValue:"Save"})||""),[n]),E=(0,o.useMemo)((()=>n("edit",{defaultValue:"Edit"})||""),[n]);return o.createElement(I,{options:s,value:d,isEditing:m,onClickEdit:h,title:w,saveText:k,editText:E,dropdownExpanded:p,onDropdownMouseEnter:()=>u(!0),onDropdownMouseLeave:g,onDropdownButtonClick:()=>u(!0),onClickItem:v})},T=Z},51007:(e,t,n)=>{n.d(t,{J:()=>d});var o=n(52983);var r=n(53031);const a=n.n(r)(),l=function(e,t){!function(e,t,n){var r=(0,o.useRef)(void 0);r.current&&n(t,r.current)||(r.current=t),(0,o.useEffect)(e,r.current)}(e,t,a)};var i=n(1514),s=n(57149),c=n(267);const d=({namespace:e,intervalOptions:t})=>{const{getI18n:n}=(0,i.Z)("trd-chart","trade-ui"),r=(0,s.createStore)(e),a=(0,c.createStore)(e),[d,p]=r(s.getActiveTab),[u,v]=r(s.getInterval),[x]=r(s.getSelectedIntervals),[m,f]=a(c.getIntervalConfigOpen),h=(0,o.useMemo)((()=>(e=>{const t=e("line",{defaultValue:"Time"})||"Time",n=e("second",{defaultValue:"s"})||"s",o=e("minute",{defaultValue:"m"})||"m",r=e("hour",{defaultValue:"H"})||"H",a=e("day",{defaultValue:"D"})||"D",l=e("weekLine",{defaultValue:"W"})||"W",i=e("monthLine",{defaultValue:"M"})||"M";return e=>({value:e,text:{[s.DisplayIntervals.Time]:t,[s.DisplayIntervals["1s"]]:`1${n}`,[s.DisplayIntervals["1m"]]:`1${o}`,[s.DisplayIntervals["3m"]]:`3${o}`,[s.DisplayIntervals["5m"]]:`5${o}`,[s.DisplayIntervals["15m"]]:`15${o}`,[s.DisplayIntervals["30m"]]:`30${o}`,[s.DisplayIntervals["1h"]]:`1${r}`,[s.DisplayIntervals["2h"]]:`2${r}`,[s.DisplayIntervals["4h"]]:`4${r}`,[s.DisplayIntervals["6h"]]:`6${r}`,[s.DisplayIntervals["8h"]]:`8${r}`,[s.DisplayIntervals["12h"]]:`12${r}`,[s.DisplayIntervals["1d"]]:`1${a}`,[s.DisplayIntervals["3d"]]:`3${a}`,[s.DisplayIntervals["1w"]]:l,[s.DisplayIntervals["1M"]]:i}[e]})})(n)),[n]),g=(0,o.useMemo)((()=>(({options:e,createOption:t})=>e.map((e=>t(e))))({options:t,createOption:h})),[h,t]),w=(0,o.useMemo)((()=>g.map((({value:e,text:t=""})=>({value:e,text:t,selected:x.some((t=>t===e))})))),[g,x]),[k,E]=(0,o.useState)(w);l((()=>E(w)),[w]);const y=(0,o.useCallback)((e=>{f(!1),v(e),p(d===s.Tabs.Depth?s.Tabs.Origin:d)}),[f,v,p,d]);return{options:k,setOptions:E,option:u,dropdownExpanded:m,setDropdownOpen:f,handleClickItem:y}}},53031:e=>{e.exports=function e(t,n){if(t===n)return!0;if(t&&n&&"object"==typeof t&&"object"==typeof n){if(t.constructor!==n.constructor)return!1;var o,r,a;if(Array.isArray(t)){if((o=t.length)!=n.length)return!1;for(r=o;0!=r--;)if(!e(t[r],n[r]))return!1;return!0}if(t.constructor===RegExp)return t.source===n.source&&t.flags===n.flags;if(t.valueOf!==Object.prototype.valueOf)return t.valueOf()===n.valueOf();if(t.toString!==Object.prototype.toString)return t.toString()===n.toString();if((o=(a=Object.keys(t)).length)!==Object.keys(n).length)return!1;for(r=o;0!=r--;)if(!Object.prototype.hasOwnProperty.call(n,a[r]))return!1;for(r=o;0!=r--;){var l=a[r];if(!("_owner"===l&&t.$$typeof||e(t[l],n[l])))return!1}return!0}return t!=t&&n!=n}}}]);